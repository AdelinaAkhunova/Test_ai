## Анализ мошеннических транзакций, гипотеза 1

### Цель исследования
Проверить, действительно ли транзакции за границей (`is_outside_home_country = True`) имеют более высокий риск мошенничества.

### Как проводился анализ

#### 1. Подготовка данных
Использовался файл `transaction_fraud_data.parquet`, содержащий:
- 7,483,766 транзакций
- 23 параметра (сумма, валюта, страна, тип карты и др.)
- Поле `is_fraud` с меткой мошенничества (True/False)

**Код загрузки:**
```python
import pandas as pd
df = pd.read_parquet('/content/transaction_fraud_data.parquet')
```

#### 2. Основной расчет
Сравнили процент мошенничества для двух групп транзакций:

В своей стране ('is_outside_home_country = False')
За границей ('is_outside_home_country = True')

Ключевой код: 
```python
fraud_rates = df.groupby('is_outside_home_country')['is_fraud'].mean() * 100
```
#### 3. Визуализация
Построили столбчатую диаграмму для наглядного сравнения:
```python
import matplotlib.pyplot as plt
fraud_rates.plot(kind='bar', color=['green', 'red'])
plt.show()
```


 ### Результаты: 

Процент мошенничества:\
is_outside_home_country\
False     2.490202\
True     56.775294\
Name: is_fraud, dtype: float64\

### Дополнительно:
Всего транзакций: 7483766\
За границей: 2410161

### Ключевые цифры:

Транзакций за границей: 2,410,161 (32.2% от общего числа)\
Из них мошеннических: 1,368,376


### Выводы
Гипотеза подтвердилась:
Риск мошенничества за границей выше в 23 раза\
Несмотря на то, что зарубежные транзакции составляют ~32% от общего объема, на них приходится 87% всего мошенничества


### Рекомендации
### Экстренные меры:

Ввести SMS-подтверждение для всех зарубежных операций\
Снизить лимиты для транзакций за границей

#### Долгосрочные меры:
Разработать отдельную модель оценки риска для зарубежных платежей\
Ввести "черный список" подозрительных стран

### Использованные инструменты
Python 3\
Pandas (анализ данных)\
Matplotlib (визуализация)



## Анализ мошеннических транзакций, гипотеза 2

### Цель исследования
Проверить гипотезу: **Транзакции с высокой активностью (>10 операций или >5000 суммой за час) чаще являются мошенническими**.

### Инструменты
- Язык программирования: **Python**
- Основные библиотеки:
  - `pandas` - для анализа данных
  - `matplotlib` - для визуализации
- Среда выполнения: **Google Colab**

### Ход работы

#### 1. Подготовка данных
Загрузили файл `transaction_fraud_data.parquet`, содержащий:
- 7,483,766 транзакций
- 23 параметра (сумма, валюта, страна, тип карты и др.)
- Поле `is_fraud` с меткой мошенничества (True/False)

**Код загрузки:**
```python
import pandas as pd
df = pd.read_parquet('/content/transaction_fraud_data.parquet')
```


#### 2. Анализ активности
Использовали данные из поля last_hour_activity, которое содержит:\
1. Количество транзакций за последний час\
2. Общую сумму\
3. Максимальную сумму одной транзакции

#### Ключевой код анализа:
Создали два признака:
df['many_transactions'] = df['last_hour_activity'].apply(lambda x: x['num_transactions'] > 10)
df['big_amount'] = df['last_hour_activity'].apply(lambda x: x['total_amount'] > 5000)

#### Сравнили уровень мошенничества
result = df.groupby(['many_transactions', 'big_amount'])['is_fraud'].mean() * 100


### 3. Визуализация
Построили столбчатую диаграмму для наглядного сравнения:
import matplotlib.pyplot as plt
result.unstack().plot(kind='bar', color=['lightblue', 'orange'])
plt.title('Риск мошенничества по активности')
plt.ylabel('Процент мошенничества')
plt.xlabel('Много транзакций (>10)')
plt.legend(['Сумма ≤5000', 'Сумма >5000'])
plt.show()


### Выводы
**Главный риск:** Крупные разовые платежи (>5000)\
Уровень мошенничества: 20.6%\
Даже если транзакций немного (≤10)\

**Самые безопасные операции:**
Много мелких транзакций (>10 и сумма ≤5000)\
Риск всего 8.2% (ниже среднего)

### Рекомендации
**Для банка:**
Ввести дополнительную проверку для платежей >5000\
Разработать отдельные лимиты для крупных разовых операций

**Для системы безопасности:**
Исследовать географию крупных платежей



